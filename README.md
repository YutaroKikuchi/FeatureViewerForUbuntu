# FeatureViewerの概要
Visual SfM等でSfMを用いた復元処理を行うと，特徴点のマッチングに失敗し，3DCGモデルが断裂するなど正しい復元ができない場合がある．この問題は，画像間での特徴点のマッチング数が不足しているという原因が考えられる．  
このFeatureViewerは，フレームごとの画像と特徴点を表示する．
さらに，表示している特徴点の軌跡を表示することにより，以前の画像とのマッチングも調べることができる．  

# 使い方
* パラメータを定義したテキストファイルを用意．FeatureViewerを引数付きで実行する.  
`$ cd FeatureViewer/`  
`$ ./FeatureViewer param.txt`

* param.txtの中身は  
    data_dir:"./remap/"  
    nvm_dir: "./remap/nvm/remap.nvm"  
    pertition_number: "12"  
    rought_lengh: "3"  

* ウィンドウ上の操作について
    * 'n'キー : 次のフレームに進む
    * 'b'キー : 前のフレームに戻る
    * 'q'キー : 終了する

# 外部仕様
ユーザの入力：  
    表示する画像のパス  
    nvmファイルのパス  
    撮影した画像の分割数  
    表示する軌跡の長さ

システムの出力:  
    フレームごとに画像をディスプレイに表示  
    特徴点の軌跡  
    表示する画像の名前
    画像が所属している3DモデルのID  

    (注意)3DモデルのIDとはnvmファイルで定義されているモデルを上から数えてIDを割り振ったものである.（一番上のモデルのIDが０）
# ドキュメントを読むにあたっての前提
* このドキュメントを読むにあたって，Visual SfMが復元処理ごとに出力するnvmファイルの使用について把握しておく必要がある．以下にnvmファイルに関する記述があるサイトのリンクを載せる．  
[VisualSFM : A Visual Structure from Motion System](http://ccwu.me/vsfm/)

* FeatureViewerでは，Thetaでの撮影によって得られた画像を用いる．画像は魚眼レンズであるため，１２枚に分割して表示される．

* 実装にあたって，画像と特徴点にそれぞれ，IDとインデックスの２つの数字を与えている．IDとインデックスの意味は異なる．IDとは，撮影時刻の順に割り振った数字であり，撮影時刻が早いほど値は小さくなる．インデックスとは，VisualSfMの処理の中でそれぞれの画像に割り当てた数字であり，nvmに書き込まれた順番に値を割り当てている．


